
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MHMA - Live Gold Prices</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-white text-gray-900">
<header class="bg-blue-50 text-white px-4 relative flex items-center justify-between" style="height: 200px;">
  <img src="logo.png" alt="MHMA Logo"
       class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"
       style="height: 200px; max-width: none;" />
</header>
<main class="p-6">
  <h2 class="text-xl font-semibold mb-2 text-center">أسعار الذهب (مباشرة)</h2>

  <!-- دائرة الحالة -->
  <div id="connection-status" class="flex justify-center items-center gap-2 mb-4 text-lg font-semibold">
    <span class="w-3 h-3 rounded-full bg-yellow-400 inline-block"></span>
    <span class="text-yellow-600">...جارٍ التحميل</span>
  </div>

  <table class="min-w-full bg-white border border-gray-200 text-center">
    <thead class="bg-gray-100">
      <tr>
        <th class="py-2 px-4 border">الشراء</th>
        <th class="py-2 px-4 border">البيع</th>
        <th class="py-2 px-4 border">العيار</th>
      </tr>
    </thead>
    <tbody id="gold-prices" class="text-lg">
      <tr><td colspan="3" class="py-4">Loading...</td></tr>
    </tbody>
  </table>

  <p class="text-sm mt-2 text-gray-600">Prices are in Saudi Riyals (SAR)</p>
</main>

  </main>
  <footer class="bg-blue-50 text-center text-sm p-4 mt-6">
    <p>Contact: mhma-alarbash@outlook.com | Phone: 0530091668 | Location: Dammam – Al Faisaliah – West Avenue Mall – Gate 3</p>
    
  </footer>

<script>
const statusDiv = document.getElementById('connection-status');
const pricesTable = document.getElementById('gold-prices');

// عرض الدائرة الصفراء مبدئيًا
statusDiv.innerHTML = `
  <span class="w-3 h-3 rounded-full bg-yellow-400 inline-block"></span>
  <span class="text-yellow-600">جارٍ التحميل...</span>
`;

fetch('https://metals-api.com/api/latest?access_key=YOUR_API_KEY&base=USD&symbols=XAU,SAR')
  .then(res => res.json())
  .then(data => {
    const usdToSar = data.rates.SAR;
    const goldPriceUSD = data.rates.XAU;
    const goldPriceSAR = goldPriceUSD * usdToSar;

    pricesTable.innerHTML = `
      <tr>
        <td class="border py-2">${(goldPriceSAR - 5).toFixed(2)}</td>
        <td class="border py-2">${(goldPriceSAR + 5).toFixed(2)}</td>
        <td class="border py-2">24K</td>
      </tr>
    `;

    // ✅ حالة النجاح – دائرة خضراء
    statusDiv.innerHTML = `
      <span class="w-3 h-3 rounded-full bg-green-500 inline-block"></span>
      <span class="text-green-600">تم تحميل الأسعار</span>
    `;
  })
  .catch(() => {
    // ❌ حالة الفشل – دائرة حمراء
    pricesTable.innerHTML = '<tr><td colspan="3" class="py-4 text-red-600">فشل في تحميل البيانات</td></tr>';
    statusDiv.innerHTML = `
      <span class="w-3 h-3 rounded-full bg-red-500 inline-block"></span>
      <span class="text-red-600">تعذر الاتصال</span>
    `;
  });

    });
</script>

</body>
</html>
